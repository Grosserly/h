document.addEventListener("DOMContentLoaded",function(){let b="h",c="h",d=14,g=21,h=document.getElementById("text"),i="flower.mp3",j=window.location.search;if(j&&j.includes("?p=/")){let k=decodeURIComponent(j.substring(4));k.includes(" ")&&" "!=k.charAt(0)&&(k=" "+k),"r"==k?(b="r",c=!1):"autism"==k?i="monty.ogg":"dense"==k?(b="dense",g=1):(b=k,c=k,d=textWidth(c,"19px Arial"))}if(spaIfy(),document.title=b,generateBgRows(g,42),c){let k=divideString(c);k=k||["h","h"];let m=generateSVGCode(k,d,38,20);h.setAttribute("style","background-image: url("+m+");"),moveAround(h)}if(i){const k=new Audio(i);k.play(),k.addEventListener("ended",function(){this.currentTime=0,this.play()},!1)}});function spaIfy(){let b=window.location;if(b.search){let c={};b.search.slice(1).split("&").forEach(function(d){let e=d.split("=");c[e[0]]=e.slice(1).join("=").replace(/~and~/g,"&")}),c.p!==void 0&&window.history.replaceState(null,null,b.pathname.slice(0,-1)+(c.p||"")+(c.q?"?"+c.q:"")+b.hash)}}function textWidth(b,c){let d=document.createElement("canvas"),e=d.getContext("2d");e.font=c;let f=e.measureText(b);return f.width}function divideString(b){const c=b,d=b.length;let e=0,f="",g="",h=[];if(1==d)return[c,c];e=0==d%2?d/2:(d-1)/2;try{return f=b.substring(0,e),g=b.substring(e),b=g+" "+f,h=[c,b],h}catch(i){return!1}}function generateSVGCode(b,c,d,e){return"\"data:image/svg+xml;uft8,<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='"+c+"' height='"+d+"'><rect width='100%' height='100%' fill='#000' x='0' y='0' fill-opacity='1' mask='url(#mask)' /><mask id='mask'><rect width='100%' height='100%' fill='#fff' x='0' y='0' /><text x='0' y='15' font-family='sans-serif' font-size='"+e+"' fill='#000'>"+b[0]+"</text><text x='0' y='34' font-family='sans-serif' font-size='"+e+"' fill='#000'>"+b[1]+"</text></mask></svg>\""}function generateBgRows(b,c){function d(g){let h=e.cloneNode(!1);h.style.backgroundPosition=g*c+"px",document.body.appendChild(h)}let e=document.createElement("div");e.classList.add("bg"),e.style.height=b+"px;";for(let f=Math.ceil(5*screen.height/b);0<f;)d(f),f--}function moveAround(b){let c=Math.floor(-201*Math.random()),d=Math.floor(-201*Math.random()),e=Math.floor(3*Math.random())+3;b.style.transition="left "+e+"s, top "+e+"s",b.style.left=c+"px",b.style.top=d+"px",setTimeout(moveAround,1e3*e,b)}
